<div class="jumbotron jumbotron-fluid bg-white border-bottom">
  <div class="container">
    <h1 class="display-7 text-dark">Mon panier</h1>
  </div>
</div>
<div *ngIf="shoppingCartExist(); else shopping_cart_empty" class="card-content">
    <mat-horizontal-stepper [linear]="isLinear" #stepper>
        <mat-step label="Validez votre panier">
            <div class="text-right p-3">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <strong>Vos appartements</strong>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div *ngIf="shoppingCart && shoppingCart.flats ; else flat_no_found" class="card-content">
                    <mat-selection-list class="text-left" #flats (selectionChange)="update($event)">
                      <mat-list-option *ngFor="let flat of shoppingCart.flats"> 
                        <h4 mat-line>{{flat.title}}</h4>
                      </mat-list-option>
                     </mat-selection-list>
                  </div>
                  <ng-template #flat_no_found><p class="text-dark text-justify text-xl-center font-weight-bold p-lg-5">Il n'y a pas d'appartement.</p></ng-template>
                  <section class="example-section">
                  </section>
                  <mat-action-row>
                    <button class="mr-lg-3 btn btn-danger" (click)="clear('flats')" [disabled]="!flatDisabled">Tout supprimer</button>
                  </mat-action-row>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div class="text-right p-3">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <strong>Vos cours de ski</strong>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div *ngIf="false ; else ecoles_no_found" class="card-content">
      
                  </div>
                  <ng-template #ecoles_no_found><p class="text-dark text-justify text-xl-center font-weight-bold p-lg-5">Il n'y a pas de cours de ski reservé.</p></ng-template>
                  <section class="example-section">
                  </section>
                  <mat-action-row>
                    <button class="mr-lg-3 btn btn-danger">Supprimer</button>
                  </mat-action-row>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div class="text-right p-3">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <strong>Votre materiel de ski</strong>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div *ngIf="false ; else materiels_no_found" class="card-content">
      
                  </div>
                  <ng-template #materiels_no_found><p class="text-dark text-justify text-xl-center font-weight-bold p-lg-5">Il n'y a pas de materiel de ski choisi.</p></ng-template>
                  <section class="example-section">
                  </section>
                  <mat-action-row>
                    <button class="mr-lg-3 btn btn-danger">Supprimer</button>
                  </mat-action-row>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div class="text-right p-3">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <strong>Vos tickets de remontes mécaniques</strong>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div *ngIf="false ; else mecas_no_found" class="card-content">
      
                  </div>
                  <ng-template #mecas_no_found><p class="text-dark text-justify text-xl-center font-weight-bold p-lg-5">Il n'y a pas de ticket reservé.</p></ng-template>
                  <section class="example-section">
                  </section>
                  <mat-action-row>
                    <button class="mr-lg-3 btn btn-danger">Supprimer</button>
                  </mat-action-row>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
              <div class="text-right p-3">
                <h4 class="text-dark p-4">Prix total : {{shoppingCart.getTotalPrice()}} TTC</h4>
                <button class="mr-lg-3 btn btn-primary" matStepperNext>Valider le panier</button>
                <button class="mr-lg-3 btn btn-danger">Tout supprimer</button>
              </div>
        </mat-step>
        <mat-step label="Validez vos informations">
          <div class="text-right p-3">
            <button class="mr-lg-3 btn btn-primary" matStepperPrevious>Back</button>
            <button class="mr-lg-3 btn btn-primary" matStepperNext>Valider vos informations</button>
          </div>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Done</ng-template>
          You are now done.
          <div class="text-right p-3">
            <button class="mr-lg-3 btn btn-primary" matStepperPrevious>Back</button>
            <button class="mr-lg-3 btn btn-danger" (click)="stepper.reset()">Reset</button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>      
</div>
<ng-template #shopping_cart_empty>
  <p class="text-dark text-justify text-xl-center font-weight-bold p-lg-5">
    {{noCartsMessage}}
  </p>
</ng-template>
